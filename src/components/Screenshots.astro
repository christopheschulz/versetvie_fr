---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Screenshots placeholders - will be replaced with actual screenshots
const screenshots = [
  { id: 1, alt: 'Verset du jour' },
  { id: 2, alt: 'Encouragement' },
  { id: 3, alt: 'Cat√©gories' },
  { id: 4, alt: 'Statistiques' },
];
---

<section id="screenshots" class="py-20 px-4 bg-[var(--color-surface)]">
  <div class="max-w-6xl mx-auto">
    <div class="text-center mb-12">
      <h2 class="text-3xl sm:text-4xl font-bold mb-4">
        <span class="bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent">
          {t('screenshots.title')}
        </span>
      </h2>
      <p class="text-lg text-[var(--color-text-secondary)] max-w-2xl mx-auto">
        {t('screenshots.subtitle')}
      </p>
    </div>

    <!-- Screenshots grid -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6">
      {screenshots.map((screenshot, index) => (
        <div
          class="relative aspect-[9/19] rounded-2xl overflow-hidden shadow-xl bg-gradient-to-br from-[var(--color-primary)]/20 to-[var(--color-secondary)]/20 border border-[var(--color-border)]"
          style={`animation-delay: ${index * 0.1}s`}
        >
          <!-- Placeholder for screenshot -->
          <div class="absolute inset-0 flex items-center justify-center">
            <div class="text-center p-4">
              <svg class="w-12 h-12 mx-auto mb-2 text-[var(--color-text-tertiary)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
              </svg>
              <span class="text-xs text-[var(--color-text-tertiary)]">{screenshot.alt}</span>
            </div>
          </div>

          <!-- Actual screenshot image (hidden until available) -->
          <img
            src={`/screenshots/screenshot-${screenshot.id}.png`}
            alt={screenshot.alt}
            class="absolute inset-0 w-full h-full object-cover hidden"
            loading="lazy"
            onerror="this.style.display='none'"
            onload="this.classList.remove('hidden'); this.previousElementSibling.style.display='none'"
          />
        </div>
      ))}
    </div>

    <!-- Note about screenshots -->
    <p class="text-center text-sm text-[var(--color-text-tertiary)] mt-8 italic">
      <!-- Screenshots will be added soon -->
    </p>
  </div>
</section>
