---
import { getLangFromUrl, useTranslations, storeUrls, storeBadges } from '../i18n/utils';
import type { Lang } from '../i18n/ui';

const lang = getLangFromUrl(Astro.url) as Lang;
const t = useTranslations(lang);
const badges = storeBadges[lang];
---

<section id="download" class="py-20 px-4">
  <div class="max-w-4xl mx-auto">
    <div class="relative p-8 sm:p-12 rounded-3xl bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-secondary)] text-white text-center overflow-hidden">
      <!-- Background decoration -->
      <div class="absolute inset-0 opacity-10">
        <div class="absolute top-0 right-0 w-64 h-64 rounded-full bg-white blur-3xl transform translate-x-1/2 -translate-y-1/2"></div>
        <div class="absolute bottom-0 left-0 w-64 h-64 rounded-full bg-white blur-3xl transform -translate-x-1/2 translate-y-1/2"></div>
      </div>

      <div class="relative">
        <h2 class="text-3xl sm:text-4xl font-bold mb-4">
          {t('cta.title')}
        </h2>

        <p class="text-lg text-white/90 mb-8 max-w-xl mx-auto">
          {t('cta.subtitle')}
        </p>

        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <a
            href={storeUrls.appStore}
            target="_blank"
            rel="noopener noreferrer"
            class="transition-transform hover:scale-105"
          >
            <img
              src={badges.appStore}
              alt="App Store"
              class="h-[52px] w-auto"
              loading="lazy"
            />
          </a>
          <a
            href={storeUrls.googlePlay}
            target="_blank"
            rel="noopener noreferrer"
            class="transition-transform hover:scale-105"
          >
            <img
              src={badges.googlePlay}
              alt="Google Play"
              class="h-[52px] w-auto"
              loading="lazy"
            />
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
